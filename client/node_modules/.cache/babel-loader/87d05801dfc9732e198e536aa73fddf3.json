{"ast":null,"code":"import React, { createContext, useMemo, useRef, useState, useEffect, Fragment, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition, TransitionGroup } from 'react-transition-group';\nimport { createPortal } from 'react-dom';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar Context = createContext();\nvar positions = {\n  TOP_LEFT: 'top left',\n  TOP_CENTER: 'top center',\n  TOP_RIGHT: 'top right',\n  MIDDLE_LEFT: 'middle left',\n  MIDDLE: 'middle',\n  MIDDLE_RIGHT: 'middle right',\n  BOTTOM_LEFT: 'bottom left',\n  BOTTOM_CENTER: 'bottom center',\n  BOTTOM_RIGHT: 'bottom right'\n};\nvar types = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  ERROR: 'error'\n};\nvar transitions = {\n  FADE: 'fade',\n  SCALE: 'scale'\n};\n\nvar getStyles = function getStyles(position) {\n  var initialStyles = {\n    position: 'fixed'\n  };\n\n  switch (position) {\n    case positions.TOP_LEFT:\n      return _objectSpread2({\n        top: 0,\n        left: 0\n      }, initialStyles);\n\n    case positions.TOP_CENTER:\n      return _objectSpread2({\n        top: 0,\n        left: '50%',\n        transform: 'translate(-50%, 0%)'\n      }, initialStyles);\n\n    case positions.TOP_RIGHT:\n      return _objectSpread2({\n        top: 0,\n        right: 0\n      }, initialStyles);\n\n    case positions.MIDDLE_LEFT:\n      return _objectSpread2({\n        bottom: '50%',\n        left: 0\n      }, initialStyles);\n\n    case positions.MIDDLE:\n      {\n        return _objectSpread2({\n          bottom: '50%',\n          left: '50%',\n          transform: 'translate(-50%, 0%)'\n        }, initialStyles);\n      }\n\n    case positions.MIDDLE_RIGHT:\n      return _objectSpread2({\n        bottom: '50%',\n        right: 0\n      }, initialStyles);\n\n    case positions.BOTTOM_LEFT:\n      return _objectSpread2({\n        bottom: 0,\n        left: 0\n      }, initialStyles);\n\n    case positions.BOTTOM_CENTER:\n      return _objectSpread2({\n        bottom: 0,\n        left: '50%',\n        transform: 'translate(-50%, 0%)'\n      }, initialStyles);\n\n    case positions.BOTTOM_RIGHT:\n      return _objectSpread2({\n        right: 0,\n        bottom: 0\n      }, initialStyles);\n  }\n};\n\nvar Wrapper = function Wrapper(_ref) {\n  var children = _ref.children,\n      _ref$options = _ref.options,\n      position = _ref$options.position,\n      containerStyle = _ref$options.containerStyle,\n      props = _objectWithoutProperties(_ref, [\"children\", \"options\"]);\n\n  var styles = useMemo(function () {\n    return getStyles(position);\n  }, [position]);\n  return children.length > 0 && React.createElement(\"div\", _extends({\n    style: _objectSpread2({}, styles, {}, containerStyle)\n  }, props), children);\n};\n\nvar _defaultStyle, _transitionStyles;\n\nvar duration = 250;\nvar defaultStyle = (_defaultStyle = {}, _defineProperty(_defaultStyle, transitions.FADE, {\n  transition: \"opacity \".concat(duration, \"ms ease\"),\n  opacity: 0\n}), _defineProperty(_defaultStyle, transitions.SCALE, {\n  transform: 'scale(1)',\n  transition: \"all \".concat(duration, \"ms ease-in-out\")\n}), _defaultStyle);\nvar transitionStyles = (_transitionStyles = {}, _defineProperty(_transitionStyles, transitions.FADE, {\n  entering: {\n    opacity: 0\n  },\n  entered: {\n    opacity: 1\n  }\n}), _defineProperty(_transitionStyles, transitions.SCALE, {\n  entering: {\n    transform: 'scale(0)'\n  },\n  entered: {\n    transform: 'scale(1)'\n  },\n  exiting: {\n    transform: 'scale(0)'\n  },\n  exited: {\n    transform: 'scale(1)'\n  }\n}), _transitionStyles);\n\nvar Transtion = function Transtion(_ref) {\n  var children = _ref.children,\n      type = _ref.type,\n      props = _objectWithoutProperties(_ref, [\"children\", \"type\"]);\n\n  return React.createElement(Transition, _extends({}, props, {\n    timeout: duration\n  }), function (state) {\n    return React.createElement(\"div\", {\n      style: _objectSpread2({}, defaultStyle[type], {}, transitionStyles[type][state])\n    }, children);\n  });\n};\n\nvar groupBy = function groupBy(array, fn) {\n  return array.reduce(function (result, item) {\n    var key = fn(item);\n    if (!result[key]) result[key] = [];\n    result[key].push(item);\n    return result;\n  }, {});\n};\n\nvar Provider = function Provider(_ref) {\n  var children = _ref.children,\n      offset = _ref.offset,\n      position = _ref.position,\n      timeout = _ref.timeout,\n      type = _ref.type,\n      transition = _ref.transition,\n      containerStyle = _ref.containerStyle,\n      AlertComponent = _ref.template,\n      Context = _ref.context,\n      props = _objectWithoutProperties(_ref, [\"children\", \"offset\", \"position\", \"timeout\", \"type\", \"transition\", \"containerStyle\", \"template\", \"context\"]);\n\n  var root = useRef(null);\n  var alertContext = useRef(null);\n  var timersId = useRef([]);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      alerts = _useState2[0],\n      setAlerts = _useState2[1];\n\n  useEffect(function () {\n    root.current = document.createElement('div');\n    document.body.appendChild(root.current);\n    var timersIdRef = timersId.current;\n    return function () {\n      timersIdRef.forEach(clearTimeout);\n      if (root.current) document.body.removeChild(root.current);\n    };\n  }, []);\n\n  var remove = function remove(alert) {\n    setAlerts(function (currentAlerts) {\n      var lengthBeforeRemove = currentAlerts.length;\n      var filteredAlerts = currentAlerts.filter(function (a) {\n        return a.id !== alert.id;\n      });\n\n      if (lengthBeforeRemove > filteredAlerts.length && alert.options.onClose) {\n        alert.options.onClose();\n      }\n\n      return filteredAlerts;\n    });\n  };\n\n  var removeAll = function removeAll() {\n    alertContext.current.alerts.forEach(remove);\n  };\n\n  var show = function show() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = Math.random().toString(36).substr(2, 9);\n\n    var alertOptions = _objectSpread2({\n      position: options.position || position,\n      timeout: timeout,\n      type: type\n    }, options);\n\n    var alert = {\n      id: id,\n      message: message,\n      options: alertOptions\n    };\n\n    alert.close = function () {\n      return remove(alert);\n    };\n\n    if (alert.options.timeout) {\n      var timerId = setTimeout(function () {\n        remove(alert);\n        timersId.current.splice(timersId.current.indexOf(timerId), 1);\n      }, alert.options.timeout);\n      timersId.current.push(timerId);\n    }\n\n    setAlerts(function (alerts) {\n      return alerts.concat(alert);\n    });\n    if (alert.options.onOpen) alert.options.onOpen();\n    return alert;\n  };\n\n  var success = function success() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.type = types.SUCCESS;\n    return show(message, options);\n  };\n\n  var error = function error() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.type = types.ERROR;\n    return show(message, options);\n  };\n\n  var info = function info() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.type = types.INFO;\n    return show(message, options);\n  };\n\n  alertContext.current = {\n    alerts: alerts,\n    show: show,\n    remove: remove,\n    removeAll: removeAll,\n    success: success,\n    error: error,\n    info: info\n  };\n  var alertsByPosition = groupBy(alerts, function (alert) {\n    return alert.options.position;\n  });\n  return React.createElement(Context.Provider, {\n    value: alertContext\n  }, children, root.current && createPortal(React.createElement(Fragment, null, Object.values(positions).map(function (position) {\n    return React.createElement(TransitionGroup, _extends({\n      appear: true,\n      key: position,\n      options: {\n        position: position,\n        containerStyle: containerStyle\n      },\n      component: Wrapper\n    }, props), alertsByPosition[position] ? alertsByPosition[position].map(function (alert) {\n      return React.createElement(Transtion, {\n        type: transition,\n        key: alert.id\n      }, React.createElement(AlertComponent, _extends({\n        style: {\n          margin: offset\n        }\n      }, alert)));\n    }) : null);\n  })), root.current));\n};\n\nProvider.propTypes = {\n  offset: PropTypes.string,\n  position: PropTypes.oneOf(Object.keys(positions).map(function (position) {\n    return positions[position];\n  })),\n  timeout: PropTypes.number,\n  type: PropTypes.oneOf(Object.keys(types).map(function (type) {\n    return types[type];\n  })),\n  transition: PropTypes.oneOf(Object.keys(transitions).map(function (transition) {\n    return transitions[transition];\n  })),\n  containerStyle: PropTypes.object,\n  template: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n  context: PropTypes.shape({\n    Provider: PropTypes.object,\n    Consumer: PropTypes.object\n  })\n};\nProvider.defaultProps = {\n  offset: '10px',\n  position: positions.TOP_CENTER,\n  timeout: 0,\n  type: types.INFO,\n  transition: transitions.FADE,\n  containerStyle: {\n    zIndex: 100\n  },\n  context: Context\n};\n\nvar useAlert = function useAlert(Context$1) {\n  var alertContext = useContext(Context$1 || Context);\n  return alertContext.current;\n};\n\nvar withAlert = function withAlert() {\n  var Context$1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Context;\n  return function (WrappedComponent) {\n    var WithAlert = function WithAlert(props, forwardedRef) {\n      return React.createElement(Context$1.Consumer, null, function (alert) {\n        return React.createElement(WrappedComponent, _extends({\n          ref: forwardedRef\n        }, props, {\n          alert: alert.current\n        }));\n      });\n    };\n\n    WithAlert.displayName = \"WithAlert(\".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', \")\");\n    return React.forwardRef(WithAlert);\n  };\n};\n\nexport { Provider, positions, transitions, types, useAlert, withAlert };","map":{"version":3,"sources":["/home/tuure/projects/preassignments/preassignment_vincit/node_modules/react-alert/dist/esm/react-alert.js"],"names":["React","createContext","useMemo","useRef","useState","useEffect","Fragment","useContext","PropTypes","Transition","TransitionGroup","createPortal","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","Symbol","iterator","toString","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","TypeError","Context","positions","TOP_LEFT","TOP_CENTER","TOP_RIGHT","MIDDLE_LEFT","MIDDLE","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","types","INFO","SUCCESS","ERROR","transitions","FADE","SCALE","getStyles","position","initialStyles","top","left","transform","right","bottom","Wrapper","_ref","children","_ref$options","options","containerStyle","props","styles","createElement","style","_defaultStyle","_transitionStyles","duration","defaultStyle","transition","concat","opacity","transitionStyles","entering","entered","exiting","exited","Transtion","type","timeout","state","groupBy","array","fn","reduce","result","item","Provider","offset","AlertComponent","template","context","root","alertContext","timersId","_useState","_useState2","alerts","setAlerts","current","document","body","appendChild","timersIdRef","clearTimeout","removeChild","remove","alert","currentAlerts","lengthBeforeRemove","filteredAlerts","a","id","onClose","removeAll","show","message","Math","random","substr","alertOptions","close","timerId","setTimeout","splice","onOpen","success","error","info","alertsByPosition","values","map","appear","component","margin","propTypes","string","oneOf","number","oneOfType","element","func","isRequired","shape","Consumer","defaultProps","zIndex","useAlert","Context$1","withAlert","WrappedComponent","WithAlert","forwardedRef","ref","displayName","name","forwardRef"],"mappings":"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","sourcesContent":["import React, { createContext, useMemo, useRef, useState, useEffect, Fragment, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition, TransitionGroup } from 'react-transition-group';\nimport { createPortal } from 'react-dom';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar Context = createContext();\n\nvar positions = {\n  TOP_LEFT: 'top left',\n  TOP_CENTER: 'top center',\n  TOP_RIGHT: 'top right',\n  MIDDLE_LEFT: 'middle left',\n  MIDDLE: 'middle',\n  MIDDLE_RIGHT: 'middle right',\n  BOTTOM_LEFT: 'bottom left',\n  BOTTOM_CENTER: 'bottom center',\n  BOTTOM_RIGHT: 'bottom right'\n};\nvar types = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  ERROR: 'error'\n};\nvar transitions = {\n  FADE: 'fade',\n  SCALE: 'scale'\n};\n\nvar getStyles = function getStyles(position) {\n  var initialStyles = {\n    position: 'fixed'\n  };\n\n  switch (position) {\n    case positions.TOP_LEFT:\n      return _objectSpread2({\n        top: 0,\n        left: 0\n      }, initialStyles);\n\n    case positions.TOP_CENTER:\n      return _objectSpread2({\n        top: 0,\n        left: '50%',\n        transform: 'translate(-50%, 0%)'\n      }, initialStyles);\n\n    case positions.TOP_RIGHT:\n      return _objectSpread2({\n        top: 0,\n        right: 0\n      }, initialStyles);\n\n    case positions.MIDDLE_LEFT:\n      return _objectSpread2({\n        bottom: '50%',\n        left: 0\n      }, initialStyles);\n\n    case positions.MIDDLE:\n      {\n        return _objectSpread2({\n          bottom: '50%',\n          left: '50%',\n          transform: 'translate(-50%, 0%)'\n        }, initialStyles);\n      }\n\n    case positions.MIDDLE_RIGHT:\n      return _objectSpread2({\n        bottom: '50%',\n        right: 0\n      }, initialStyles);\n\n    case positions.BOTTOM_LEFT:\n      return _objectSpread2({\n        bottom: 0,\n        left: 0\n      }, initialStyles);\n\n    case positions.BOTTOM_CENTER:\n      return _objectSpread2({\n        bottom: 0,\n        left: '50%',\n        transform: 'translate(-50%, 0%)'\n      }, initialStyles);\n\n    case positions.BOTTOM_RIGHT:\n      return _objectSpread2({\n        right: 0,\n        bottom: 0\n      }, initialStyles);\n  }\n};\n\nvar Wrapper = function Wrapper(_ref) {\n  var children = _ref.children,\n      _ref$options = _ref.options,\n      position = _ref$options.position,\n      containerStyle = _ref$options.containerStyle,\n      props = _objectWithoutProperties(_ref, [\"children\", \"options\"]);\n\n  var styles = useMemo(function () {\n    return getStyles(position);\n  }, [position]);\n  return children.length > 0 && React.createElement(\"div\", _extends({\n    style: _objectSpread2({}, styles, {}, containerStyle)\n  }, props), children);\n};\n\nvar _defaultStyle, _transitionStyles;\nvar duration = 250;\nvar defaultStyle = (_defaultStyle = {}, _defineProperty(_defaultStyle, transitions.FADE, {\n  transition: \"opacity \".concat(duration, \"ms ease\"),\n  opacity: 0\n}), _defineProperty(_defaultStyle, transitions.SCALE, {\n  transform: 'scale(1)',\n  transition: \"all \".concat(duration, \"ms ease-in-out\")\n}), _defaultStyle);\nvar transitionStyles = (_transitionStyles = {}, _defineProperty(_transitionStyles, transitions.FADE, {\n  entering: {\n    opacity: 0\n  },\n  entered: {\n    opacity: 1\n  }\n}), _defineProperty(_transitionStyles, transitions.SCALE, {\n  entering: {\n    transform: 'scale(0)'\n  },\n  entered: {\n    transform: 'scale(1)'\n  },\n  exiting: {\n    transform: 'scale(0)'\n  },\n  exited: {\n    transform: 'scale(1)'\n  }\n}), _transitionStyles);\n\nvar Transtion = function Transtion(_ref) {\n  var children = _ref.children,\n      type = _ref.type,\n      props = _objectWithoutProperties(_ref, [\"children\", \"type\"]);\n\n  return React.createElement(Transition, _extends({}, props, {\n    timeout: duration\n  }), function (state) {\n    return React.createElement(\"div\", {\n      style: _objectSpread2({}, defaultStyle[type], {}, transitionStyles[type][state])\n    }, children);\n  });\n};\n\nvar groupBy = function groupBy(array, fn) {\n  return array.reduce(function (result, item) {\n    var key = fn(item);\n    if (!result[key]) result[key] = [];\n    result[key].push(item);\n    return result;\n  }, {});\n};\n\nvar Provider = function Provider(_ref) {\n  var children = _ref.children,\n      offset = _ref.offset,\n      position = _ref.position,\n      timeout = _ref.timeout,\n      type = _ref.type,\n      transition = _ref.transition,\n      containerStyle = _ref.containerStyle,\n      AlertComponent = _ref.template,\n      Context = _ref.context,\n      props = _objectWithoutProperties(_ref, [\"children\", \"offset\", \"position\", \"timeout\", \"type\", \"transition\", \"containerStyle\", \"template\", \"context\"]);\n\n  var root = useRef(null);\n  var alertContext = useRef(null);\n  var timersId = useRef([]);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      alerts = _useState2[0],\n      setAlerts = _useState2[1];\n\n  useEffect(function () {\n    root.current = document.createElement('div');\n    document.body.appendChild(root.current);\n    var timersIdRef = timersId.current;\n    return function () {\n      timersIdRef.forEach(clearTimeout);\n      if (root.current) document.body.removeChild(root.current);\n    };\n  }, []);\n\n  var remove = function remove(alert) {\n    setAlerts(function (currentAlerts) {\n      var lengthBeforeRemove = currentAlerts.length;\n      var filteredAlerts = currentAlerts.filter(function (a) {\n        return a.id !== alert.id;\n      });\n\n      if (lengthBeforeRemove > filteredAlerts.length && alert.options.onClose) {\n        alert.options.onClose();\n      }\n\n      return filteredAlerts;\n    });\n  };\n\n  var removeAll = function removeAll() {\n    alertContext.current.alerts.forEach(remove);\n  };\n\n  var show = function show() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = Math.random().toString(36).substr(2, 9);\n\n    var alertOptions = _objectSpread2({\n      position: options.position || position,\n      timeout: timeout,\n      type: type\n    }, options);\n\n    var alert = {\n      id: id,\n      message: message,\n      options: alertOptions\n    };\n\n    alert.close = function () {\n      return remove(alert);\n    };\n\n    if (alert.options.timeout) {\n      var timerId = setTimeout(function () {\n        remove(alert);\n        timersId.current.splice(timersId.current.indexOf(timerId), 1);\n      }, alert.options.timeout);\n      timersId.current.push(timerId);\n    }\n\n    setAlerts(function (alerts) {\n      return alerts.concat(alert);\n    });\n    if (alert.options.onOpen) alert.options.onOpen();\n    return alert;\n  };\n\n  var success = function success() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.type = types.SUCCESS;\n    return show(message, options);\n  };\n\n  var error = function error() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.type = types.ERROR;\n    return show(message, options);\n  };\n\n  var info = function info() {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.type = types.INFO;\n    return show(message, options);\n  };\n\n  alertContext.current = {\n    alerts: alerts,\n    show: show,\n    remove: remove,\n    removeAll: removeAll,\n    success: success,\n    error: error,\n    info: info\n  };\n  var alertsByPosition = groupBy(alerts, function (alert) {\n    return alert.options.position;\n  });\n  return React.createElement(Context.Provider, {\n    value: alertContext\n  }, children, root.current && createPortal(React.createElement(Fragment, null, Object.values(positions).map(function (position) {\n    return React.createElement(TransitionGroup, _extends({\n      appear: true,\n      key: position,\n      options: {\n        position: position,\n        containerStyle: containerStyle\n      },\n      component: Wrapper\n    }, props), alertsByPosition[position] ? alertsByPosition[position].map(function (alert) {\n      return React.createElement(Transtion, {\n        type: transition,\n        key: alert.id\n      }, React.createElement(AlertComponent, _extends({\n        style: {\n          margin: offset\n        }\n      }, alert)));\n    }) : null);\n  })), root.current));\n};\n\nProvider.propTypes = {\n  offset: PropTypes.string,\n  position: PropTypes.oneOf(Object.keys(positions).map(function (position) {\n    return positions[position];\n  })),\n  timeout: PropTypes.number,\n  type: PropTypes.oneOf(Object.keys(types).map(function (type) {\n    return types[type];\n  })),\n  transition: PropTypes.oneOf(Object.keys(transitions).map(function (transition) {\n    return transitions[transition];\n  })),\n  containerStyle: PropTypes.object,\n  template: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n  context: PropTypes.shape({\n    Provider: PropTypes.object,\n    Consumer: PropTypes.object\n  })\n};\nProvider.defaultProps = {\n  offset: '10px',\n  position: positions.TOP_CENTER,\n  timeout: 0,\n  type: types.INFO,\n  transition: transitions.FADE,\n  containerStyle: {\n    zIndex: 100\n  },\n  context: Context\n};\n\nvar useAlert = function useAlert(Context$1) {\n  var alertContext = useContext(Context$1 || Context);\n  return alertContext.current;\n};\n\nvar withAlert = function withAlert() {\n  var Context$1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Context;\n  return function (WrappedComponent) {\n    var WithAlert = function WithAlert(props, forwardedRef) {\n      return React.createElement(Context$1.Consumer, null, function (alert) {\n        return React.createElement(WrappedComponent, _extends({\n          ref: forwardedRef\n        }, props, {\n          alert: alert.current\n        }));\n      });\n    };\n\n    WithAlert.displayName = \"WithAlert(\".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', \")\");\n    return React.forwardRef(WithAlert);\n  };\n};\n\nexport { Provider, positions, transitions, types, useAlert, withAlert };\n"]},"metadata":{},"sourceType":"module"}